# Mesh Gradients Experiments

This is a repository containing two utility program in my journey to recreate `[MeshGradient](https://developer.apple.com/documentation/swiftui/meshgradient/)` effect as seen on [WWDC video](https://www.youtube.com/watch?v=alhFwkbsxrs&t=381s).

There is, unfortunately, not a lot of details regarding their underlying implementation. I've decided to implement a part of [this paper](https://link.springer.com/article/10.1007/s00371-018-1547-1) in order to try to replicate this effect.

This repository contains two programs used to experiment with mesh gradients:

- `generator` - interactive mesh gradient generator with naive subdivision (aka. global refinement) support. It generates a JSON file with mesh data ready to be used by some kind of a GPU renderer.
- `visualizer` - quick and dirty WGPU program used to consume JSON data generated by `generator` app and display results.

In order to replicate setup as seen as in WWDC video, middle point of `3x3` grid needs to be placed on `(0.9, 0.3)` coordinates. You can do it easily by selecting a point in `generator` app and use editboxes on the left.

## Usage

In order to use these utility apps you need to have a [working Rust installation](https://www.rust-lang.org/tools/install). It has been developed & used on 1.79.0 version of the toolchain.

Then you can just do:

```
cargo run -p generator # recommend adding --release flag as well to speed it up
cargo run --release -p visualizer -- <path-to-json-file>
```

## Visualizer app - controls

You can press `w` to swap between wireframe / point cloud / fill view of the visualized mesh.

## License

[Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0.html)
